(this.webpackJsonpexpose=this.webpackJsonpexpose||[]).push([[0],{59:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(9),r=n.n(o),i=(n(59),n(27)),s=n(38),u=n(20),m=n(101),d=n(106),l=n(96),j=n(8),b=Object(l.a)((function(t){return{root:{width:"100%","& > *":{marginBottom:"10px"},"& .MuiTextField-root":{width:"100%"}}}}));function h(t){var e=t.addLocation,n=window.localStorage.getItem("form"),a=n?JSON.parse(n):{name:"",mode:"checkin"},o=c.a.useState(a),r=Object(s.a)(o,2),i=r[0],l=r[1];function h(t){"function"===typeof t&&(t=t(i)),window.localStorage.setItem("form",JSON.stringify(t)),l(t)}var f=b();switch(i.mode){case"checkin":return Object(j.jsxs)("form",{className:f.root,onSubmit:function(t){return t.preventDefault(),e(i.name),h((function(t){return Object(u.a)(Object(u.a)({},t),{},{mode:"checkout"})})),!1},children:[Object(j.jsx)(d.a,{required:!0,label:"Location Name",name:"name",value:i.name,onChange:function(t){h((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:t.target.value})}))}}),Object(j.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",children:"Check In"})]});case"checkout":return Object(j.jsxs)("form",{className:f.root,onSubmit:function(t){return t.preventDefault(),e(i.name),h((function(t){return Object(u.a)(Object(u.a)({},t),{},{name:"",mode:"checkin"})})),!1},children:[Object(j.jsx)(d.a,{required:!0,label:"Location Name",name:"name",value:i.name,disabled:!0}),Object(j.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",children:"Check Out"})]});default:throw new Error("Unknown mode ".concat(i.mode))}}var f=n(45),O=n(104),p=n(100),g=n(102),v=n(103),x=n(105),w=n(39),y=Object(l.a)((function(t){return{root:{width:"100%"},dividerFullWidth:{margin:"5px 0 0 ".concat(t.spacing(2),"px")}}}));function S(t){var e=t.timestamp,n=t.name,a=t.location;return Object(j.jsx)(g.a,{children:Object(j.jsx)(v.a,{primary:function(t,e){var n=e.latitude,a=e.longitude;return Object(j.jsx)("a",{href:"https://www.google.com/maps/search/".concat(n,",").concat(a,"/@").concat(n,",").concat(a,",17z"),children:t})}(n,a),secondary:function(t){return new Date(t).toLocaleTimeString()}(e)})},e)}function k(t){var e=t.history.reduce((function(t,e){var n=Object(f.a)(t),a=n[0],c=n.slice(1),o=new Date(e.timestamp).toLocaleDateString();return void 0===a?[{date:o,items:[e]}]:a.date!==o?[{date:o,items:[e]},a].concat(Object(i.a)(c)):[{date:o,items:[e].concat(Object(i.a)(a.items))}].concat(Object(i.a)(c))}),[]),n=y();return Object(j.jsx)(p.a,{className:n.root,subheader:Object(j.jsx)(x.a,{component:"div",children:"Location History"}),children:e.map((function(t){var e=t.date,a=t.items;return Object(j.jsxs)("span",{children:[Object(j.jsx)(O.a,{component:"li"},"divider-".concat(e)),Object(j.jsx)("li",{children:Object(j.jsx)(w.a,{className:n.dividerFullWidth,color:"textSecondary",display:"block",variant:"caption",children:e})},"subhead-".concat(e)),a.map(S)]},"span-".concat(e))}))})}var N=Object(l.a)((function(t){return{root:{width:"90%",margin:"10px auto 10px auto"}}}));var L=function(){var t=window.localStorage.getItem("items"),e=t?JSON.parse(t):[],n=c.a.useState(e),a=Object(s.a)(n,2),o=a[0],r=a[1],u=N();return Object(j.jsxs)("div",{className:u.root,children:[Object(j.jsx)(h,{addLocation:function(t){var e=(new Date).getTime();navigator.geolocation.getCurrentPosition((function(n){var a,c=n.coords;return"function"===typeof(a=function(n){return[].concat(Object(i.a)(n),[{timestamp:e,name:t,location:c}])})&&(a=a(o)),window.localStorage.setItem("items",JSON.stringify(a)),void r(a)}),(function(){}),{maximumAge:0,enableHighAccuracy:!0})}}),Object(j.jsx)(k,{history:o})]})},C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),o(t),r(t)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root")),C()}},[[64,1,2]]]);
//# sourceMappingURL=main.247abb33.chunk.js.map